---
title: Magentic Marketplace：开源平台探索自主智能体市场
title_original: 'Magentic Marketplace: Open-source platform to study agentic markets'
date: '2025-11-05'
source: Microsoft Research
source_url: https://www.microsoft.com/en-us/research/blog/magentic-marketplace-an-open-source-simulation-environment-for-studying-agentic-markets/
author: Brenda Potts
summary: 本文介绍了Magentic Marketplace，一个用于大规模模拟和研究自主AI智能体市场的开源平台。随着AI智能体逐渐成为经济活动的参与者，其市场结构（如单边、封闭或开放双边市场）存在多种可能，并涉及安全、开放与竞争等关键权衡。该平台通过模块化设计支持受控实验，模拟大量智能体同时进行搜索、协商和交易的复杂动态，旨在帮助研究人员探索不同市场设计对消费者福利、效率、公平性等社会影响，为引导智能体经济向普惠方向发展提供基础。
categories:
- AI研究
tags:
- 自主智能体
- 市场模拟
- 开源平台
- AI经济
- 消费者福利
draft: false
translated_at: '2026-01-06T00:52:40.877Z'
---

自主AI智能体已经到来，它们正蓄势重塑经济格局。通过自动化发现、协商和交易，智能体能够克服信息不对称和平台锁定等低效问题，从而催生更快速、更透明、更具竞争力的市场。

我们已在数字市场中观察到这场变革的早期迹象。面向客户的助手，如OpenAI的Operator和Anthropic的Computer Use，能够浏览网站并完成购买。在商业端，Shopify Sidekick、Salesforce Einstein和Meta的Business AI则帮助商家处理运营和客户互动。这些案例预示着一个智能体成为活跃市场参与者的未来，但这些市场的具体结构仍不确定。

未来可能出现多种场景：我们或许会看到仅由客户或企业单方面部署智能体的单边市场；也可能出现公司严格管控智能体交互的封闭平台（即"围墙花园"）；甚至可能出现开放的双边市场，让客户与企业的智能体在不同生态系统中自由交易。每条路径都在安全性、开放性、便利性和竞争性方面存在不同的权衡，这些权衡将塑造数字经济中的价值流向。若想更深入探讨这些动态，请参阅我们的论文《智能体经济》。

为帮助应对这种不确定性，我们构建了Magentic Marketplace（在新标签页中打开）——一个用于大规模探索智能体市场多种可能性及其社会影响的开源模拟环境。它为研究这些市场并引导其朝着惠及所有人的方向发展奠定了基础。

这项工作至关重要，因为大多数AI智能体研究都聚焦于孤立场景——单个智能体完成任务或两个智能体协商简单交易。但真实市场涉及大量智能体同时进行搜索、沟通和交易，由此产生的复杂动态无法通过研究孤立智能体来理解。捕捉这种复杂性至关重要，因为现实世界的部署会引发关于消费者福利、市场效率、公平性、抗操纵性和偏见等关键问题——这些问题无法在生产环境中安全地得到解答。

为深入探索这些动态，Magentic Marketplace平台支持在不同智能体市场场景中进行受控实验。其当前重点是双边市场，但该环境采用模块化可扩展设计，支持未来探索人机混合系统、单边市场及复杂通信协议。

**什么是Magentic Marketplace？**

Magentic Marketplace的环境管理着市场层面的核心功能：维护可用商品和服务目录、实施发现算法、促进智能体间通信，并通过其核心的集中式交易层处理模拟支付，确保所有市场交互的交易完整性。此外，该平台支持系统化、可复现的研究。如下方视频所示，它支持广泛的智能体实现和不断演进的市场功能，允许研究人员集成多样化的智能体架构，并在新功能出现时适配环境。

我们围绕三个核心架构选择构建了Magentic Marketplace：

**HTTP/REST客户端-服务器架构**：智能体作为独立客户端运行，而市场环境作为中央服务器。这模拟了现实世界平台，并支持清晰分离客户与企业智能体的角色。

**极简三端点市场协议**：仅需注册、协议发现和行动执行三个端点，即可让智能体动态发现可用行动。新增功能不会干扰现有实验。

**丰富的行动协议**：特定消息类型支持完整的交易生命周期：搜索、协商、提案和支付。该协议专为可扩展性设计。退款、评价或评分等新行动可无缝添加，使研究人员能够演进市场功能并研究新兴智能体行为，同时保持兼容性。

此外，可视化模块允许用户观察市场动态，并查看客户与企业智能体之间的独立对话线程。

**实验设置**

为确保可复现性，我们使用完全合成数据实例化了市场环境，相关数据已在开源仓库中公开（在新标签页中打开）。实验模拟了订购食品和参与家装服务等交易场景，其中智能体代表参与市场交易的客户和企业。这种设置能够精确测量行为，并与理论上限进行系统比较。

每项实验使用100个客户和300个企业，并同时包含专有模型（GPT-4o、GPT-4.1、GPT-5和Gemini-2.5-Flash）和开源模型（OSS-20b、Qwen3-14b和Qwen3-4b-Instruct-2507）。

我们的场景聚焦于简单的"全有或全无"请求：每位客户都有期望的物品和设施清单，交易需满足所有条件才算成功。对于这些交易，效用计算为客户内部物品估值总和减去实际支付价格。消费者福利定义为所有完成交易的效用总和，这是我们比较智能体性能的关键指标。

虽然此实验设置提供了有用的起点，但它并非最终定论。我们鼓励研究人员用更丰富、更细致的度量标准和请求类型来扩展该框架，以更好地捕捉真实的消费者福利、公平性及其他社会考量。

**播客系列**

**我们发现了什么？**

**智能体能够提升消费者福利——但前提是具备良好的发现机制**

我们探讨了双边智能体市场——即AI智能体彼此之间及与服务提供者互动——能否通过减少信息差来提升消费者福利。与传统市场不同（传统市场不提供智能体支持，克服信息不对称的负担完全落在客户身上），智能体市场将大部分努力转移给了智能体。这一变化很重要，因为随着智能体获得更好的发现和沟通工具，它们解除了客户填补信息缺口所需的沉重认知负荷，从而降低了做出明智决策的成本，改善了客户结果。

我们比较了几种市场设置。在现实条件下（智能体：词法搜索），智能体面临着构建查询、浏览分页列表、确定合适的询价对象以及协商交易等现实挑战。

尽管存在这些复杂性，先进的专有模型和一些中型开源模型（如GPTOSS-20b）的表现优于随机选择或单纯选择最便宜选项等简单基线。值得注意的是，GPT-5实现了接近最优的性能，展示了其在现实市场条件下有效收集和利用决策相关信息的能力。

在"智能体：完美搜索"条件下（智能体无需搜索和浏览选项，初始即获得前三匹配项），性能显著提升。在此设置中，Sonnet-4.0、Sonnet-4.5、GPT-5和GPT-4.1几乎达到了理论最优值，并且击败了那些拥有完整设施详情但缺乏智能体间协调的基线。

开源模型表现参差：GPTOSS-20b在"完美搜索"和"词法搜索"条件下均表现强劲，甚至在"完美搜索"条件下超越了GPT-4o的性能。这表明相对紧凑的模型在复杂的多智能体环境中也能展现出强大的信息收集和决策能力。

Qwen3-4b-2507 在发现过程中涉及无关选项（词汇搜索）时表现不佳，而 Qwen3-14b 则因推理能力的根本局限在两种情况下均落后。

**选择悖论**
Agent（智能体）的一个承诺是其能够考虑比人类多得多的选项。然而，我们的实验揭示了一个惊人的局限：为 Agent 提供更多选项并不一定会带来更彻底的探索。我们设计了将搜索结果限制从 3 调整到 100 的实验。除了 Gemini-2.5-Flash 和 GPT-5 之外，无论搜索限制如何，模型都只联系了可用商家中的一小部分。这表明大多数模型不会进行详尽的比较，而是轻易地接受最初“足够好”的选项。

此外，在所有模型中，随着搜索结果数量的增加，消费者福利均出现下降。尽管联系了上百家商家，Gemini-2.5-Flash 的表现从 1700 下降到了 1350，而 GPT-5 下降得更多，从接近最优的 2000 下降到了 1400。

这证明了选择悖论效应，即更多的探索并不能保证更好的结果，这可能是由于对长上下文的理解能力有限。Claude Sonnet 4 表现出最陡峭的性能下降，消费者福利从 1800 降至 600。面对所有呈现的选项，它难以驾驭更大的选项集，并且经常联系那些不提供客户所需商品或服务的商家。

这种糟糕的初始选择和过早终止搜索的结合，既体现了决策标准的不充分，也体现了探索策略的不足。一些模型表现出适度的性能下降（例如 GPT-4.1：从 1850 降至 1700；GPT-4o：从 1550 降至 1450），在其有限的探索范围内找到了不错的选项。

**Agent 易受操纵**
我们测试了六种操纵策略，范围从微妙的心理战术到激进的提示词注入攻击：
- **权威性**：使用虚假资质，如“米其林指南推荐”和“詹姆斯·比尔德奖提名”，并搭配伪造的认证。
- **社会认同**：声称“加入 50,000+ 满意客户的行列”或“排名第一的墨西哥餐厅”，并搭配虚假评论。
- **损失厌恶**：基于恐惧的警告，关于竞争对手餐厅的“食物中毒”风险和“污染问题”。
- **提示词注入（基础）**：试图覆盖 Agent 指令。
- **提示词注入（强力）**：使用紧急语言和捏造竞争对手丑闻的激进攻击。

结果显示，不同模型对操纵的抵抗力存在显著差异。Sonnet-4 能抵抗所有攻击，没有任何操纵策略影响任何客户的选择。Gemini-2.5-Flash 总体上具有抵抗力，但在强力提示词注入攻击下，未受操纵的 Agent 的平均支付金额会受到影响。GPT-4o、GPTOSS-20b 和 Qwen3-4b 对提示词注入攻击非常脆弱：在这些条件下，所有支付都被重定向到了操纵性 Agent。特别是对于 GPTOSS-20 和 Qwen3-4b-2507，即使是传统的心理操纵策略（权威诉求和社会认同）也会增加对恶意 Agent 的支付，这表明它们对基本的说服技巧也很脆弱。这些发现凸显了 Agent 市场的一个关键安全问题。

**系统性偏见造成不公平优势**
我们的分析揭示了 Agent 从搜索结果中选择商家时表现出的两种不同类型的系统性偏见。模型基于商家在搜索结果中出现的位置表现出系统性偏好。虽然专有模型没有表现出强烈的位置偏好，但开源模型显示出清晰的模式。具体来说，Qwen2.5-14b-2507 表现出明显偏向选择最后呈现的商家，无论其实际价值如何。

**提议偏见**在所有测试模型中更为普遍。这种“首次提议接受”模式表明，模型优先考虑立即选择而非全面探索，可能会错过通过等待更好选项而可能出现的更优替代方案。这种行为在专有和开源模型中持续存在，表明 Agent 决策架构中存在一个根本性挑战。

这些偏见可能造成不公平的市场动态，驱动非预期行为，并迫使企业在响应速度而非产品或服务质量上进行竞争。

**这意味着什么**
即使在市场环境中，最先进的模型也可能表现出显著的脆弱性和偏见。在我们的实现中，Agent 难以应对过多的选项，容易受到操纵策略的影响，并表现出造成不公平优势的系统性偏见。

这些结果不仅由 Agent 能力塑造，也受市场设计和实现的影响。我们当前的研究聚焦于静态市场，但现实世界环境是动态的，Agent 和用户会随时间学习。对于高风险交易，监督至关重要。Agent 应辅助而非取代人类决策。

我们计划探索动态市场和人在回路的设计，以提高效率和信任。在大规模部署之前，像 Magentic Marketplace 这样的模拟环境对于理解市场组件与 Agent 之间的相互作用至关重要。

我们实验设置和结果的完整细节可在我们的论文中查阅（在新标签页中打开）。

**开始使用**
Magentic Marketplace 作为一个开源环境提供，用于探索 Agent 市场动态。代码、数据集和实验模板可在 GitHub（在新标签页中打开）和 Azure AI Foundry Labs（在新标签页中打开）获取。

文档（在新标签页中打开）提供了重现上述实验的说明，以及将环境扩展到新市场配置的指导。

---

> 本文由AI自动翻译，原文链接：[Magentic Marketplace: Open-source platform to study agentic markets](https://www.microsoft.com/en-us/research/blog/magentic-marketplace-an-open-source-simulation-environment-for-studying-agentic-markets/)
> 
> 翻译时间：2026-01-06 00:52
