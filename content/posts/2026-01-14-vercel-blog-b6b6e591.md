---
title: 使用Vercel AI Gateway集成Perplexity网页搜索，为任意模型添加实时网络搜索能力
title_original: Use Perplexity Web Search with Vercel AI Gateway - Vercel
date: '2026-01-14'
source: Vercel Blog
source_url: https://vercel.com/blog/use-perplexity-web-search-with-vercel-ai-gateway
author: ''
summary: 本文介绍了如何通过Vercel AI Gateway的供应商无关网页搜索功能，为任何AI模型（如OpenAI、Anthropic、Google等）添加实时网络搜索能力。文章解释了其工作原理：只需一行代码导入`gateway.tools.perplexitySearch()`工具，模型即可在需要时自动搜索网络并整合最新信息。文中列举了多个使用场景，包括为无原生搜索功能的模型赋能、提升开发者工具与CI助手的时效性，以及构建供应商无关的聊天机器人，从而实现跨模型的一致搜索体验，解决模型因训练数据滞后而导致信息过时的问题。
categories:
- AI基础设施
tags:
- Vercel AI Gateway
- Perplexity搜索
- 实时AI
- 模型增强
- AI开发工具
draft: false
translated_at: '2026-01-15T04:44:12.055934'
---

模型虽然强大，但其能力受限于训练数据和知识截止日期。当用户询问今日新闻、当前价格或最新的API变更时，模型可能会提供过时信息或坦言不知。

AI Gateway提供的供应商无关的网页搜索功能改变了这一现状。只需一行代码，您就能赋予任何模型实时搜索网络的能力。该功能适用于OpenAI、Anthropic、Google以及所有可通过AI Gateway访问的其他供应商模型。

## 工作原理

要在AI SDK中使用供应商无关的搜索功能，请从`@ai-sdk/gateway`导入`gateway.tools.perplexitySearch()`，并将其作为`perplexity_search`工具参数传递给任何模型。当模型判断需要最新信息时，它会自动搜索网络并将结果整合到其回复中。

```
1import { streamText } from 'ai';2import { gateway } from '@ai-sdk/gateway';3
4const result = streamText({5  model: 'minimax/minimax-m2.1',6  prompt: 'What were the major tech announcements this week?',7  tools: {8    perplexity_search: gateway.tools.perplexitySearch(),9  },10});
```

## 使用场景

### 无原生搜索功能的模型

许多性能强大的模型并未内置网页搜索功能。Perplexity搜索为所有可通过AI Gateway访问的模型增添了此项能力。

```
1import { streamText } from 'ai';2import { gateway } from '@ai-sdk/gateway';3
4const result = streamText({5  model: 'zai/glm-4.7', // 无原生搜索，但Perplexity可用6  prompt: 'What new features were added in React 19.2?',7  tools: {8    perplexity_search: gateway.tools.perplexitySearch(),9  },10});
```

### 开发者工具与CI助手

当代码助手了解当前软件包版本、最近合并的PR、发布说明和文档更新时，它们会更有用。过时的信息会导致构建失败和安全问题。

```
1import { streamText } from 'ai';2import { gateway } from '@ai-sdk/gateway';3
4const result = streamText({5  model: 'anthropic/claude-sonnet-4.5',6  prompt: 'What is the latest stable version of Next.js and what breaking changes should I know about?',7  tools: {8    perplexity_search: gateway.tools.perplexitySearch(),9  },10});
```

### 供应商无关的聊天机器人

生产环境中的聊天机器人通常需要跨多个模型工作，以实现成本优化、故障转移或A/B测试。不同供应商的原生搜索工具各不相同，但无论您使用哪种模型，Perplexity搜索的工作方式都完全一致。

```
1import { streamText } from 'ai';2import { gateway } from '@ai-sdk/gateway';3
4const models = ['openai/gpt-5.2', 'anthropic/claude-sonnet-4.5', 'zai/glm-4.7'];5
6const result = streamText({7  model: models[selectedIndex], // 相同的搜索逻辑适用于任何模型8  prompt: 'What is the current status of the OpenAI API?',9  tools: {10    perplexity_search: gateway.tools.perplexitySearch({11      searchDomainFilter: ['status.openai.com', 'openai.com'],12      searchRecencyFilter: 'day',13    }),14  },15});
```

### 运营与市场感知智能体

监控价格变动、服务中断、职位发布或社交公告的智能体需要近乎实时的信息才能发挥作用。网页搜索使其保持信息最新，无需手动构建数据管道。

```
1import { streamText } from 'ai';2import { gateway } from '@ai-sdk/gateway';3
4const result = streamText({5  model: 'openai/gpt-5.2',6  prompt: 'Are there any ongoing incidents affecting Vercel or AWS us-east-1?',7  tools: {8    perplexity_search: gateway.tools.perplexitySearch({9      searchDomainFilter: ['status.vercel.com', 'health.aws.amazon.com'],10      searchRecencyFilter: 'day',11    }),12  },13});
```

## 供应商特定工具

AI Gateway也支持Anthropic、OpenAI和Google的原生网页搜索。这些供应商特定的工具针对其各自的模型进行了优化，并可能提供额外功能。

当您希望在不同模型间获得一致的搜索行为，或者您所用模型的供应商不提供原生网页搜索时，请使用Perplexity。

有关所有可用选项的详细信息，请参阅[网页搜索文档](web search docs)。

## 定价

在AI Gateway中，Perplexity网页搜索请求按每1,000次请求5美元收费。这些请求没有额外加价。更多详情请参阅[Perplexity定价](Perplexity's pricing)。

## 开始使用

立即为您的AI应用添加实时网页搜索功能：

- [网页搜索文档](Web search documentation)
- [AI Gateway](AI Gateway)

网页搜索文档

---

> 本文由AI自动翻译，原文链接：[Use Perplexity Web Search with Vercel AI Gateway - Vercel](https://vercel.com/blog/use-perplexity-web-search-with-vercel-ai-gateway)
> 
> 翻译时间：2026-01-15 04:44
