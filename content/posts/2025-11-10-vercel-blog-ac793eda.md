---
title: Vercel：反供应商锁定的云平台，以框架定义基础设施
title_original: 'Vercel: The anti-vendor-lock-in cloud - Vercel'
date: '2025-11-10'
source: Vercel Blog
source_url: https://vercel.com/blog/vercel-the-anti-vendor-lock-in-cloud
author: ''
summary: 本文探讨了云平台供应商锁定的问题，并介绍了Vercel的解决方案。传统云平台通过专有原语（如AWS Lambda、Cloudflare Workers）将用户锁定在其生态系统中，迁移成本高昂。Vercel则采用“框架定义的基础设施”模式，开发者基于Next.js、Remix等开放框架标准编写代码，而非平台特定API。Vercel自动解析框架代码并配置底层基础设施，使应用具备高度可移植性，无需修改即可在其他支持该框架的环境中运行。数据显示，约70%的Next.js应用已在Vercel外部部署，验证了其反锁定理念的可行性。
categories:
- AI基础设施
tags:
- Vercel
- 供应商锁定
- 云平台
- 框架定义基础设施
- Next.js
draft: false
translated_at: '2026-02-01T20:31:23.256750'
---

在选择云平台时，供应商锁定是一个重要考量。云平台可能会通过要求你基于其特定的**原语**进行构建来锁定你。Vercel 采取了不同的方法：你为你的框架编写代码，而不是为 Vercel 编写。

在 AWS 上，你需要配置 Lambda 函数、NAT 网关和 DynamoDB 表。在 Cloudflare 上，你需要编写 Workers、使用 KV 存储、Durable Objects，并通过 Worker Service Bindings 绑定服务。这些原语仅存在于该供应商的生态中，这意味着迁移到另一个平台需要重写你的应用程序架构。

云平台常常替你做出这些选择。它们定义专有的原语、API 和服务，将你的代码更深地拉入其生态系统，直到离开变得不切实际。

在 Vercel，我们相信相反的方法能创造出更好的软件和更健康的网络。我们希望开发者留下来是因为他们愿意，而不是因为他们不得不这样做。这意味着构建开放的工具、拥抱标准，并确保你的代码无论在哪里运行都保持可移植性。

因此，Vercel 的工作方式不同。它解释你的框架代码并自动配置基础设施。你的应用程序无需知道它运行在 Vercel 上。你不需要导入 Vercel 模块或调用 Vercel API。这就是**框架定义的基础设施**。

## 供应商锁定的实际含义

当一个平台构建偏离开放标准的功能，并通过专有 API 在你的应用程序代码中访问这些功能时，就会发生供应商锁定。如果你的应用程序使用了这些功能，你就无法在不重写代码的情况下迁移到另一个平台。

当你基于像 AWS Step Functions 或 Cloudflare Durable Objects 这样的供应商原语进行构建时，这些依赖关系就存在于你的应用程序代码中。你的业务逻辑与平台 API 绑定，这意味着迁移需要重写该逻辑以适应不同的原语。

像 Next.js App Router、Remix loaders、SvelteKit endpoints 和 Nitro storage adapters 这样的框架约定则工作方式不同。你基于框架构建，而不是平台。多个平台可以运行相同的框架代码，使你的应用程序能够在任何支持该框架的基础设施上保持可移植性。

![框架定义的基础设施意味着开发者通过他们的框架定义基础设施，而不是通过供应商特定的代码或逻辑。](/images/posts/b7748207ae9b.jpg)

![框架定义的基础设施意味着开发者通过他们的框架定义基础设施，而不是通过供应商特定的代码或逻辑。](/images/posts/83707b5daf65.jpg)

## 框架定义的基础设施意味着可移植的代码

这种可移植性之所以可能，是因为**框架定义的基础设施**。FDI 意味着平台读取你的代码并确定你需要什么基础设施。你遵循框架的模式，Vercel 处理其余部分。

复杂的生产应用程序在 Vercel 上运行，其代码库中没有任何地方提及 `vercel`。它们遵循 Next.js 约定（或 Remix、SvelteKit、Nuxt 或 40 多个受支持框架之一）。Vercel 分析构建输出，并相应地配置中间件、函数、静态资源和缓存。

### 本地开发无需 Vercel 工具

基于供应商原语构建的平台需要复杂的模拟器进行本地开发。Cloudflare 提供 Wrangler 来本地模拟 Workers。AWS 开发者使用 LocalStack 或 SAM CLI 来模拟 Lambda 和其他服务。这些工具近似于生产环境行为，但永远无法完全匹配。

使用 FDI，你运行框架的标准开发服务器即可。对于 Next.js，运行 `next dev`。对于 Remix，运行 `remix dev`。你编写的代码在本地和生产环境中以相同的方式运行。无需安装 Vercel CLI，也没有模拟层造成环境差异。

这种架构选择直接影响可移植性。当你基于框架标准而非平台原语编写代码时，你的代码无需修改即可在其他地方运行。

## 大多数 Next.js 应用已经在 Vercel 之外运行

Next.js 是 Vercel 上部署最广泛的框架。因此，有些人可能认为这会造成锁定，但数据显示并非如此。

根据 Next.js 遥测数据追踪的不同项目，大约 70% 的 Next.js 应用程序在 Vercel 之外运行。这个数字很可能还低估了非 Vercel 部署，因为 Vercel 部署很少禁用遥测，而自托管部署通常会选择退出，不会出现在数据中。

许多公司目前在自己的基础设施上自托管 Next.js，这在实践中证明了这种可移植性。Walmart.com 每天为数百万购物者提供自托管的 Next.js 服务，Nike.com 在自己的系统上以全球规模运营，Claude.ai 也在自己的基础设施上使用 Next.js 构建了他们的应用程序。这些都是大规模的生产应用程序，在由这些公司控制的基础设施上处理着巨大的流量。

每个主要的云供应商都提供 Next.js 部署选项。Netlify、Cloudflare、AWS Amplify、Google Cloud 和 Azure 都原生支持 Next.js。对于自定义基础设施设置，像 OpenNext 这样的开源项目使 Next.js 能够以类似于 Vercel 的无服务器架构运行。

## Next.js 适配器规范了框架与平台的契约

平台提供商告诉我们，集成比应有的更困难。这就是为什么 **Next.js 团队构建了构建适配器**，作为明确的版本化 API，以规范框架与平台之间的契约。适配器定义了 Next.js 的输出内容、每个路由需要的基础设施功能以及平台应如何处理它们。

每个部署在 Vercel 上的 Next.js 16 应用程序都使用与其他平台相同的适配器 API。Vercel 没有特殊的访问权限或不同的集成点。Vercel 用于验证功能的测试套件对所有平台提供商都可用。

这是我们更广泛的 **开放 SDK 战略** 的一部分：构建在任何平台上都开放、可移植且可用的框架、SDK 和工具。

## 标准优先，始终可移植

我们尽可能优先考虑标准协议。Vercel 市场上提供的数据库使用 Postgres 和 Redis 等标准协议。这些是通过 Neon、Supabase 和 Upstash 等市场合作伙伴提供的，或者你也可以连接到你自己运行的任何实例。AWS 是我们首选的云提供商，因此当你连接到与你的应用程序位于同一 AWS 区域的数据库时，你可以获得低延迟的连接。

同样的理念也延伸到了我们的 AI 基础设施。**AI 网关** 支持 OpenAI API 格式，该格式已被 OpenAI、Anthropic 和大多数其他模型提供商确立为事实上的行业标准。在直接调用 OpenAI 或通过 AI 网关路由之间切换，只需更改配置中的 API 端点 URL，无需更改代码。

有些服务需要专有 API，因为目前还没有行业标准。**Vercel Sandbox** 提供了不受信任代码的安全执行环境。**Edge Config** 通过简单的 `get(key)` 接口提供超低延迟读取，用于分布式配置。迁移到替代方案需要更新你的代码以使用它们的 API。然而，不同之处在于，这些服务可以从任何基础设施（包括 EC2 或你自己的服务器）调用，而无需你使用 Vercel 进行托管。当这些用例出现行业标准 API 时，我们将实现它们。

## 我们为何以这种方式构建

构建可移植的开源软件是 Vercel 的核心价值观。我们构建开源软件是为了创建一个持久的企业，使我们能够继续开发优秀的开源软件。我们的目标是提高世界各地每个人（无论他们是否是 Vercel 客户）的软件默认质量。

当开发者学习Next.js、Nuxt或AI SDK时，他们需要确信这项投入不会将其束缚在单一平台上。这种信任将推动更广泛的采用。更广泛的采用会催生更大的生态系统。更大的生态系统能让每个平台都变得更好，Vercel也不例外。

我们希望您选择留在Vercel是出于自愿，而非被迫。赢得这种选择的最佳方式，是构建能够随处运行的工具，并打造一个能让这些工具更出色的平台。

---

> 本文由AI自动翻译，原文链接：[Vercel: The anti-vendor-lock-in cloud - Vercel](https://vercel.com/blog/vercel-the-anti-vendor-lock-in-cloud)
> 
> 翻译时间：2026-02-01 20:31
