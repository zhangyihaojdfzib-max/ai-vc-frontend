---
title: Databricks湖仓一体数据建模：澄清误解与最佳实践
title_original: 'Databricks Lakehouse Data Modeling: Myths, Truths, and Best Practices'
date: '2025-12-15'
source: Databricks Blog
source_url: https://www.databricks.com/blog/databricks-lakehouse-data-modeling-myths-truths-and-best-practices
author: null
summary: 本文澄清了关于Databricks湖仓一体架构放弃关系建模、不支持键约束等常见误解，指出关系原则、维度建模和约束支持仍是其核心基础。文章介绍了Databricks在数据质量保障、Unity
  Catalog指标视图以及BI性能优化方面的能力，并强调湖仓一体结合了数据仓库的可靠性与数据湖的灵活性，为现代数据平台提供了统一解决方案。
categories:
- 技术趋势
tags:
- 数据湖仓
- 数据建模
- Databricks
- 数据仓库
- 数据管理
draft: false
translated_at: '2026-01-06T01:25:04.953Z'
---

数据仓库长期以来因其结构和严谨性而备受推崇，然而许多人认为湖仓一体架构牺牲了这种规范性。在此，我们将澄清两个相关的误解：其一，Databricks 放弃了关系建模；其二，它不支持键或约束。您将看到，键、约束和模式执行等核心原则在 Databricks SQL 中仍然是首要考虑的因素。在此观看完整的 DAIS 2025 会议视频 →
现代数据仓库已经演进，Databricks 湖仓一体正是这一演进的绝佳范例。过去四年中，成千上万的组织已将其传统数据仓库迁移至 Databricks 湖仓一体平台，从而获得了一个统一平台，无缝集成了数据仓库、流式分析和 AI 能力。然而，经典数据仓库的某些特性和能力并非数据湖的核心支柱。本篇博客将澄清挥之不去的数据建模误解，并为您的现代云湖仓一体平台投入运营提供额外的最佳实践。
本综合指南旨在澄清围绕 Databricks 数据仓库功能的最普遍误解，同时展示在 2025 年 Data + AI Summit 上宣布的强大新功能。无论您是评估平台选项的数据架构师，还是实施湖仓一体解决方案的数据工程师，本文都将为您提供对 Databricks 企业级数据建模能力的权威理解。
在深入探讨这些误解之前，理解湖仓一体架构与传统数据仓库方法的不同之处至关重要。湖仓一体结合了数据仓库的可靠性和性能，以及数据湖的灵活性和可扩展性，创建了一个统一平台，消除了传统上结构化与非结构化数据处理之间的权衡。
Databricks SQL 特性：
该架构解决了传统方法的根本局限性，同时保持了与现有工具和实践的兼容性。
**真相：关系原则是湖仓一体的基础**
或许最普遍的误解是认为 Databricks 放弃了关系建模原则。这与事实相去甚远。"湖仓一体"这个术语明确强调了"仓"的组成部分——即建立在数十年成熟的关系数据库理论基础之上的结构化、可靠的数据管理。
作为每个 Databricks 表底层存储层的 Delta Lake，完全支持：
诸如 Unity Catalog 指标视图（现已进入公共预览版）等现代功能，完全依赖于结构良好的关系模型才能有效运行。这些语义层需要适当的维度表和事实表，以在整个组织内提供一致的业务指标。
最重要的是，AI 和机器学习模型（也称为"读时模式"方法）在遵循关系原则的干净、结构化、表格化数据上表现最佳。湖仓一体并未放弃结构；它使结构更加灵活和可扩展。
**真相：Databricks 拥有强大的约束支持并带来优化优势**
自 Databricks Runtime 11.3 LTS 起，Databricks 就已支持主键和外键约束，并在 Runtime 15.2 中全面正式发布。这些约束服务于多个关键目的：
**真相：Databricks 提供全面的数据质量保障**
数据质量在企业数据平台中至关重要，Databricks 提供了多层约束执行机制，其能力超越了传统数据仓库。
最常见的是简单的原生 SQL 约束，包括：
此外，Databricks 还提供高级数据质量解决方案，超越了基本约束，提供企业级的数据质量监控。
Lakehouse Monitoring 提供自动化的数据质量跟踪，包括：
Databricks Labs DQX 库提供：
这些工具相结合，提供了超越传统数据仓库约束系统的数据质量能力，在您的整个数据流水线中提供预防性和检测性控制。
**真相：Unity Catalog 指标视图革新了语义层管理**
2025 年 Data + AI Summit 上最重要的公告之一，是 Unity Catalog 指标视图进入公共预览版——这是一种变革性的语义建模方法，摆脱了供应商锁定。
Unity Catalog 指标视图允许您集中管理业务逻辑：
与专有的 BI 语义层不同，Unity Catalog 指标是开放且可访问的：
这种方法代表了从特定于 BI 工具的语义层，向统一、受治理且开放的语义基础的转变，为整个组织的分析提供动力。
**真相：维度建模原则在湖仓一体中蓬勃发展**
Databricks 不仅不排斥维度建模，反而积极拥抱并针对这些经过验证的分析模式进行优化。星型和雪花型模式能非常好地映射到 Delta 表，通常比传统数据仓库提供更优越的性能特征。这些公认的维度建模模式提供了：
此外，Databricks 湖仓一体为维度建模提供了独特的优势，包括灵活的模式演进和时间旅行集成。为了在 Databricks 上获得利用维度建模的最佳体验，请遵循以下最佳实践：
**真相：湖仓一体原生提供世界级的 BI 性能**
认为湖仓一体架构在 BI 工作负载上无法与传统数据仓库性能匹敌的误解已日益过时。Databricks 在查询性能优化上投入巨大，其交付的结果持续超越传统的 MPP 数据仓库。
Databricks 性能优化的基石是 Photon 引擎，它专为 OLAP 工作负载和分析查询而设计。
此外，Databricks SQL 提供了一个完全托管、无服务器的仓库体验，可针对高并发 BI 工作负载自动扩展，并无缝集成流行的 BI 工具。我们的无服务器仓库结合了最佳的总体拥有成本和性能，为您的分析查询提供最优的响应时间。近年来常被忽视的是 Delta Lake 的基础性优势——即，在开放高效的 Parquet 数据格式上进行的文件优化、高级统计信息收集和数据聚类。从传统数据仓库迁移到 Databricks 的组织普遍报告了由此带来的性能优势：
2025 年 Data + AI Summit 带来了更多令人兴奋的公告和优化，包括增强的预测性优化和自动液态聚类。
**真相：Medallion 架构是指导方针，而非刚性要求**
那么，什么是 Medallion 架构？Medallion 架构是一种用于在湖仓一体中逻辑组织数据的设计模式，其目标是随着数据流经架构的每一层（从青铜层 ⇒ 白银层 ⇒ 黄金层表），逐步渐进地改善数据的结构和质量。虽然 Medallion 架构（也称为"多跳"架构）为在湖仓一体中组织数据提供了一个极佳的框架，但必须理解它是一种参考架构，而非强制性结构。在 Databricks 上建模的关键在于，在建模现实世界复杂性的同时保持灵活性，可以根据需要增加甚至移除 Medallion 架构的层级。
许多成功的 Databricks 实现甚至可能结合多种建模方法。Databricks 能够采用多种混合建模方法来适应 Data Vault、星型模式、雪花型模式或特定领域层，以处理特定行业的数据模型（例如医疗保健、金融服务、零售）。
关键是将 Medallion 架构作为起点，并根据您组织的具体需求进行调整，同时保持渐进式数据精炼和质量改进的核心原则。

影响您数据湖仓架构的组织因素众多，在实施前应仔细考量以下方面：

**事实：先进的事务处理能力现已实现**
传统数据仓库与湖仓平台之间的能力差距之一在于多表、多语句事务支持。随着2025年数据与人工智能峰会上多语句事务功能的发布，这一现状已发生改变。通过新增目前处于私有预览阶段的多语句事务功能，Databricks 提供：

与传统数据仓库相比，Databricks 的方法具有显著优势：

多语句事务对于供应链管理等复杂业务流程至关重要，这些场景中数百个相关表的更新必须保持完全一致性。多语句事务支持以下强大模式：
- 一致的多表更新
- 复杂数据管道编排

技术进步与实际应用已彻底打破关于 Databricks 数据仓库能力的误解。该平台不仅支持传统数据仓库概念，更通过现代化能力增强这些功能，解决了传统系统的局限性。

对于正在评估或实施 Databricks 用于数据仓库的组织：

Databricks 湖仓代表了数据仓库的下一代演进——将传统方法的可靠性和性能与现代分析和人工智能所需的灵活性和扩展性相结合。曾经质疑其能力的误解已被实际成果和持续创新所取代。

随着我们迈向日益由人工智能驱动的未来，采用湖仓架构的组织将能更好地从数据中提取价值、响应不断变化的业务需求，并提供推动竞争优势的创新分析解决方案。

问题不再是湖仓能否取代传统数据仓库，而是您能以多快的速度开始实现其对企业数据管理的价值。

湖仓架构融合了开放性、灵活性和完整的事务可靠性——这是传统数据仓库难以企及的。从奖牌架构到领域特定模型，从单表更新到多语句事务，Databricks 提供了随业务增长的基础架构。

准备好改造您的数据仓库了吗？最好的数据仓库就是湖仓！要了解更多关于 Databricks SQL 的信息，请体验产品导览。访问 databricks.com/sql 探索 Databricks SQL，了解全球组织如何革新其数据平台。

2024年11月21日/阅读时间3分钟。

> 本文由AI自动翻译，原文链接：[Databricks Lakehouse Data Modeling: Myths, Truths, and Best Practices](https://www.databricks.com/blog/databricks-lakehouse-data-modeling-myths-truths-and-best-practices)
> 
> 翻译时间：2026-01-06 01:25
