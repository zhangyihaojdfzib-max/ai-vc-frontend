---
title: React2Shell高危漏洞安全公告：影响React 19及Next.js，需立即升级
title_original: React2Shell Security Bulletin
date: '2025-12-05'
source: Vercel Blog
source_url: https://vercel.com/blog/resources-for-protecting-against-react2shell
author: Security Team
summary: 本文是关于React2Shell高危漏洞的安全公告。该漏洞影响React 19及使用它的框架（如Next.js 15.0.0至16.0.6），可能导致远程代码执行。公告详细披露了漏洞CVE-2025-55182及相关CVE，提供了时间线更新，并强烈建议所有受影响用户立即升级到已修补的版本。文章还说明了如何判断应用是否易受攻击、如何通过自动化工具升级，并介绍了Vercel平台提供的额外保护措施和漏洞赏金计划。
categories:
- 技术趋势
tags:
- React
- Next.js
- 安全漏洞
- CVE
- 前端安全
draft: false
translated_at: '2026-01-06T01:22:41.800Z'
---

**2025年12月11日更新：** 继 React2Shell 漏洞披露后，社区对 React 服务器组件的研究发现了另外两个需要修补的漏洞：CVE-2025-55184（拒绝服务）和 CVE-2025-55183（源代码泄露）。详情请参阅新的安全公告。

2025年12月4日，针对 React2Shell 的公开利用代码出现。这是一个影响 React 19（CVE-2025-55182）及使用它的框架（如 Next.js，CVE-2025-66478）的 React 服务器组件高危漏洞。情况仍在动态发展。我们建议您频繁查看此页面和 Vercel Developers X 账户以获取最新更新，我们也会继续在 Vercel 仪表板中同步这些信息。

该漏洞影响 Next.js 15.0.0 至 16.0.6 版本。如果您正在运行受影响版本，请立即升级，无论是否已有其他保护措施。请跳转到《如何升级和保护您的 Next.js 应用》指南，了解如何修补和保护您的应用程序。

| 日期 | 更新内容 |
| :--- | :--- |
| 12月08日，太平洋标准时间 晚上8:31 | Vercel Agent（智能体）可以执行自动化代码审查并开启拉取请求来升级易受攻击的项目。详情请参阅自动化升级部分。 |
| 12月08日，太平洋标准时间 晚上6:09 | 我们强烈建议为您所有的部署（除了生产域名）开启标准保护，并审核所有部署的可分享链接。操作说明请参阅公告的部署保护部分。 |
| 12月06日，太平洋标准时间 晚上9:05 | 如果您的应用程序在太平洋时间 2025年12月4日下午1:00 时在线且未打补丁，我们强烈建议您轮换其使用的任何密钥，从最关键的开始。修补密钥的信息可在我们的文档中找到。 |
| 12月05日，太平洋标准时间 晚上10:29 | Vercel 已发布一个 npm 包来更新您受影响的 Next.js 应用。使用 `npx fix-react2shell-next` 或访问 GitHub 页面了解更多信息。 |
| 12月05日，太平洋标准时间 下午3:44 | Vercel 已与 HackerOne 合作，负责任地披露关键的 Vercel 平台保护绕过方法。仅针对此 CVE，成功演示绕过 Vercel 保护的有效报告将获得奖励。高危漏洞赏金为 25,000 美元，严重漏洞赏金为 50,000 美元。请访问 HackerOne 页面参与。 |

*   何时升级您的应用程序
*   了解什么是 React2Shell 以及它是否影响您
*   如何升级和保护您的 Next.js 应用
*   如何升级其他框架
*   常见问题

**在以下情况下您应该升级：**

*   **您正在使用 Next.js 15.0.0 至 16.0.6：** 所有运行 15.0.0 至 16.0.6 版本的 Next.js 应用程序均受此漏洞影响。
*   **您正在使用 Next.js 14 金丝雀版本：** 如果您使用的是 14.3.0-canary.76 之后的 Next.js 14 金丝雀版本，您同样易受攻击，需要降级或升级。
*   **您在任何框架中使用 React 服务器组件：** 此漏洞广泛影响 React 服务器组件。如果您通过 Next.js 或其他框架使用 RSC，您需要更新。

对于 Next.js，强烈建议升级到已修补的版本，这是唯一完整的修复方案。所有 React 服务器组件的用户，无论是通过 Next.js 还是任何其他框架，都应立即更新。了解如何升级 Next.js 和其他框架。

**React2Shell** 是 React 服务器组件中的一个高危漏洞，影响 React 19 及使用它的框架。在某些条件下，特制的请求可能导致意外的远程代码执行。

确定您是否易受攻击的最可靠方法是检查您部署的 React 和 Next.js 版本。您需要验证以下包的版本：
*   `next`
*   `react-server-dom-webpack`
*   `react-server-dom-parcel`
*   `react-server-dom-turbopack`

如果您使用 Vercel，当您的生产部署使用这些包的易受攻击版本时，您将在 vercel.com 仪表板中看到一个横幅。此横幅是审查您部署的额外提示。

每个人都应直接检查其版本。这可以通过使用 `npx fix-react2shell-next` 自动完成（参见公告此部分的说明）。

Vercel WAF 规则通过过滤已知的利用模式提供额外的防御层：
*   在 CVE 公告发布前，Vercel 与 React 团队合作设计了 WAF 规则来阻止利用，并向所有 Vercel 用户全局提供了保护。
*   持续监控新的利用变体并迭代更新 WAF 规则（截至 2025年12月5日，已部署额外规则以覆盖新发现的攻击模式）

WAF 规则不能保证防御所有可能的攻击变体。

**本节内容：**
*   Vercel 安全操作仪表板
*   Vercel 部署保护
*   版本升级方法
*   轮换环境变量

Vercel 提供了一个统一的仪表板，展示需要您团队采取行动的任何安全问题，包括修复步骤。查看您的安全操作仪表板。

即使您的生产应用已打补丁，旧版本可能仍然易受攻击。我们强烈建议为您生产域名之外的所有部署开启标准保护。

您可以在安全操作仪表板中查看未启用部署保护的项目列表，或通过审查您的部署保护设置来查看。

确保在未先绕过保护的情况下，外部用户不会使用预览部署和其他环境的部署（详情请参阅文档）。

您还应审核来自您部署的可分享链接。如果您已禁用部署保护以分享指向预览或自定义环境部署的域名，您应实施部署保护例外，并确保添加到例外列表中的所有部署都已打补丁。

Vercel Agent（智能体）可以自动检测易受攻击的项目，并开启将您的代码升级到已修补版本的 PR。

在 Vercel 仪表板中查看易受攻击的项目并启动升级。

您可以通过在应用程序根目录运行以下命令，使用 `fix-react2shell-next` npm 包快速将 Next.js 项目更新到正确版本：
```
npx fix-react2shell-next
```
测试后，请尽快部署您更新后的应用程序。操作说明请参阅部署指南。

**1. 确定您当前的版本**
从您的应用加载一个页面，在浏览器控制台中运行 `next.version` 查看当前版本，或检查您的 `package.json` 以找到您当前的 Next.js 版本：
```json
{ "dependencies": { "next": "15.3.4" }}
```

**2. 更新到已修补的版本**
根据以下列表，确定您需要升级到哪个已修补的版本：

| 易受攻击的版本 | 已修补的版本 |
|---|---|
| Next.js 15.0.x | 15.0.5 |
| Next.js 15.1.x | 15.1.9 |
| Next.js 15.2.x | 15.2.6 |
| Next.js 15.3.x | 15.3.6 |
| Next.js 15.4.x | 15.4.8 |
| Next.js 15.5.x | 15.5.7 |
| Next.js 16.0.x | 16.0.10 |
| Next.js 14 金丝雀版本（14.3.0-canary.76 之后） | 降级到 14.3.0-canary.76（不易受攻击） |
| Next.js 15 金丝雀版本（15.6.0-canary.58 之前） | 15.6.0-canary.58 |
| Next.js 16 金丝雀版本（16.1.0-canary.12 之前） | 16.1.0-canary.12 及之后 |

这些已修补的版本包含了加固的 React 服务器组件实现。

如果您当前使用金丝雀版本来启用 PPR，可以更新到 15.6.0-canary.58，该版本在继续支持 PPR 的同时包含了针对此漏洞的修复。关于修补旧版本的其他方法，请参阅此讨论帖。

更新您的 `package.json`：
```json
{ "dependencies": { "next": "15.3.6" }}
```

**3. 安装依赖项并更新锁文件**
请始终将锁文件的更改与 `package.json` 的更改一起提交。

运行您的包管理器的安装命令：
```bash
# npm
npm install

# yarn
yarn install

# pnpm
pnpm install

# bun
bun install
```

**4. 立即部署**
测试后，请尽快部署您更新后的应用程序。

请参阅部署指南获取操作说明。
测试完成后，请尽快部署更新后的应用程序。
如果您部署到 Vercel，该平台已阻止易受攻击版本的新部署，并已部署 WAF 规则，但升级仍然至关重要。
如果您通过 Git 部署，推送更改将触发使用修补版本的预览构建，合并操作会将该构建提升至生产环境。您也可以从 Vercel 仪表板创建手动部署以立即发布修复。
如果您使用 Vercel CLI，请通过以下命令部署：
```
vercel --prod
```
请假设您易受攻击的系统可能已遭入侵。在修补框架版本并重新部署应用程序后，我们建议轮换所有应用程序密钥。了解如何为您的 Vercel 团队和项目轮换环境变量。
如果您使用其他实现了 React 服务器组件的框架，请查阅 react.dev 博客上发布的 React 安全公告。如果您正在运行受影响软件的易受攻击版本，应立即更新到修补版本。
- 查看 Next.js 官方安全公告
- 如有其他问题，请通过 security@vercel.com 联系我们。

我们发布了一个 npm 包来扫描易受攻击的软件包并进行升级。您可以在软件包页面阅读完整详情。以下是一个运行示例：
```
```
了解您受影响情况最明确的方法是，根据 CVE 检查您已部署的 React/Next 版本。有关如何检查的信息，请参阅上方的"检查您的漏洞状态"部分。

我们已在 vercel.com 仪表板为我们的客户启用横幅通知，如果项目的生产部署包含易受攻击版本的 next、react-server-dom-webpack、react-server-dom-parcel 或 react-server-dom-turbopack，该通知会告知您。
请将此视为额外的防御层，而不是直接检查您是否正在运行易受攻击版本的替代方案。

您无法明确判断，但我们建议审查您的应用程序日志和活动，查找异常行为。这可能包括异常的 POST 请求或函数超时激增。然而，函数超时并不能可靠地表明已遭入侵，因为攻击者可以制作成功完成的负载，而超时可能仅表示扫描或探测活动，而非成功的利用。

Vercel 在 CVE 公告发布前已部署 WAF 缓解措施。随着新的利用变体出现，我们已识别并修补了 WAF 规则的绕过方法。WAF 规则是一层防御，但永远无法保证 100% 覆盖。升级到修补版本仍然是完全保护应用程序的唯一方法。

升级到修补版本是唯一的完整修复方案。Vercel WAF 规则通过过滤已知的利用模式提供额外的防御层，但 WAF 规则无法保证防御所有可能的攻击变体。

您可以通过查看部署保护设置，确保除生产域之外的其他部署也受到保护。

我们正在密切监控新的利用变体，并根据新出现的信息迭代更新 WAF 规则。截至今天（12月5日）上午，我们已部署了额外的规则来覆盖新识别的攻击模式。我们的团队将继续添加更多保护层，并在可用时分享更新。

如果您当前正在使用 Next.js 中的仅 Canary 功能，您仍应优先更新到修补版本。有关如何更新到修补的 Next.js 版本而无需禁用仅 Canary 功能的说明，请参阅 Next.js 安全公告的"必需操作"部分。

我们警告不要对您的生产环境使用公开可用的利用程序。相反，我们建议遵循上述流程，确保所有公开部署都使用最新版本的 React 服务器组件和 Next.js。

如果您有需要额外验证的复杂部署，我们建议在具有合成数据的沙盒环境中进行测试，以避免对您的生产服务和数据造成意外后果。

Vercel 将在未来几天内自动向现有的 v0 聊天应用推送补丁。但是，您应立即修补受影响的 v0 应用，而不是等待自动更新。

手动修补 v0 应用：
- 打开受影响 v0 聊天的部署对话框
- 点击"使用 v0 修复"按钮

请注意，未发布的 v0 应用不受 React2Shell 影响。

---

> 本文由AI自动翻译，原文链接：[React2Shell Security Bulletin](https://vercel.com/blog/resources-for-protecting-against-react2shell)
> 
> 翻译时间：2026-01-06 01:22
